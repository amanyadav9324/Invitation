<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Family Gathering Invitation</title>

<!-- Playfair Display + Amiri for bold modern look -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Amiri:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --sky: #7ec8ee;
  --sky-dark: #5aa8d3;
  --white: #ffffff;
  --charcoal: #2b2b2b;
  --cream: #FFFDD0;
  --brown: #A67C52;
  --blue: #6fa8dc;
  --orange: #FFB347;
  --pink: #d5b6e8;
  --green: #94ac78;
  --black: #333333;
  --purple: #c2a14d;
}

*{
  box-sizing: border-box;
}

body{
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #eaf7ff 0%, #d4ecff 50%, #ffffff 100%);
  overflow: hidden;
  color: var(--charcoal);
  position: relative;
  font-family: 'Amiri', serif;
}

body::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 20% 80%, rgba(126,200,238,0.3) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(126,200,238,0.3) 0%, transparent 50%);
  pointer-events: none;
  z-index: 1;
}


/* Card */
.card{
  width: 90%;
  max-width: 400px;
  background: rgba(255,255,255,0.97);
  border-radius: 20px;
  padding: 45px 32px;
  box-shadow: 0 40px 80px rgba(0,0,0,0.18), 0 15px 40px rgba(0,0,0,0.12);
  text-align: center;
  position: relative;
  z-index: 10;
  backdrop-filter: blur(12px);
}

/* Bold Title */
.card h3 {
  margin: 0 0 35px 0;
  font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--sky), var(--sky-dark));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 1px;
}

/* Envelope */
.envelope{
  width: 250px;
  height: 150px;
  margin: 0 auto 25px;
  background: var(--white);
  border-radius: 20px;
  position: relative;
  overflow: hidden;
 box-shadow: 0 40px 80px rgba(0,0,0,0.18), 0 15px 40px rgba(0,0,0,0.12);
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.envelope:hover {
  transform: scale(1.08) rotate(2deg);
}

.flap{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 65%;
  background: linear-gradient(135deg, var(--sky), var(--sky-dark));
  clip-path: polygon(0 0, 50% 100%, 100% 0);
  transform-origin: top;
  transition: all 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  z-index: 3;
}

.envelope.open .flap{
  transform: rotateX(180deg);
}

.tap{
  font-size: 1.2rem;
  opacity: 0.75;
  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  font-weight: 600;
}

/* Modal */
.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 20;
  backdrop-filter: blur(8px);
}

.modal-content{
  background: rgba(255,255,255,0.98);
  width: 92%;
  max-width: 420px;
  border-radius: 28px;
  padding: 36px;
  animation: pop 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  box-shadow: 0 50px 100px rgba(0,0,0,0.25);
  max-height: 85vh;
  overflow-y: auto;
}

@keyframes pop{
  from{ transform: scale(0.5) rotate(10deg); opacity: 0; }
  to{ transform: scale(1) rotate(0deg); opacity: 1; }
}

/* Bold Modal Headers */
.modal h4 {
  margin: 0 0 28px 0;
  font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  font-size: 1.7rem;
  font-weight: 800;
  color: var(--charcoal);
  letter-spacing: 0.5px;
  text-align: center;
}

.modal p{
    font-size:18px;
    font-weight:600;
    margin-bottom:28px;
    line-height: 1.7;
    text-align: justify;
    text-transform: capitalize;
}

/* Buttons */
.btn{
  margin: 16px 8px 0 0;
  padding: 16px 32px;
  border: none;
  border-radius: 50px;
  background: linear-gradient(135deg, var(--sky), var(--sky-dark));
  color: #000;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.4s ease;
  font-family: 'Amiri', serif;
  box-shadow: 0 8px 20px rgba(126,200,238,0.3);
}

.btn:hover {
  transform: translateY(-3px) scale(1.02);
}

.btn.full {
  width: 100%;
  margin: 0 0 16px 0;
}

/* ENHANCED Family Cards - Big, Bold, Animated */
.family-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
  margin-top: 24px;
}

.family-card {
  height: 140px;
  border-radius: 24px;
  cursor: pointer;
  box-shadow: 0 20px 50px rgba(0,0,0,0.15), inset 0 2px 4px rgba(255,255,255,0.8);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: 'Playfair Display', serif;
  font-size: clamp(16px, 3vw, 20px);
  font-weight: 800;
  color: var(--charcoal);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(248,250,255,0.9));
  border: 3px solid transparent;
  position: relative;
  overflow: hidden;
  padding: 20px;
  text-align: center;
  line-height: 1.3;
}

.family-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(126,200,238,0.3), transparent);
  transition: left 0.6s;
}

.family-card:hover::before {
  left: 100%;
}

.family-card:hover {
  transform: translateY(-12px) scale(1.05);
  box-shadow: 0 35px 70px rgba(0,0,0,0.25), 0 0 30px rgba(126,200,238,0.4);
  border-color: var(--sky);
}

.family-card.selected {
  border-color: var(--sky);
  background: linear-gradient(135deg, rgba(126,200,238,0.25), rgba(255,255,255,0.95));
  box-shadow: 0 25px 60px rgba(126,200,238,0.4);
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 25px 60px rgba(126,200,238,0.4); }
  50% { box-shadow: 0 35px 80px rgba(126,200,238,0.6); }
}


.modal-content p{
    font-size: 1rem;
    text-align: justify;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}

/* Mystery Color Cards - Just "?" */
.color-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-top: 28px;
}


.color-option {
  aspect-ratio: 1;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: 0 15px 35px rgba(0,0,0,0.2);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  border: 4px solid transparent;
  position: relative;
  overflow: hidden;
  background: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Playfair Display', serif;
  font-size: clamp(28px, 8vw, 36px);
  font-weight: 800;
  color: #666;
}

.color-option:hover {
  transform: scale(1.08) rotate(5deg);
  box-shadow: 0 25px 50px rgba(0,0,0,0.3);
}

.color-option.selected {
  border-color: var(--sky);
  background: var(--sky);
  color: white;
  box-shadow: 0 0 0 4px rgba(126,200,238,0.6), 0 25px 60px rgba(0,0,0,0.4);
  animation: revealPulse 0.6s ease;
}

@keyframes revealPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

/* NEW Color Reveal Layout */
.color-reveal-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin: 24px 0;
}

.color-heading {
  font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
  font-size: clamp(20px, 5vw, 26px);
  font-weight: 800;
  color: var(--charcoal);
  text-align: center;
  letter-spacing: 0.5px;
  margin: 0;
}

.color-display {
  height: 140px;
  border-radius: 24px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.25);
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.color-display::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.8s ease;
}

/* Fireworks canvas */
canvas{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 30;
}

/* Responsive */
@media (max-width: 480px) {
  .card {
    padding: 35px 24px;
    margin: 20px;
  }
  
  .family-grid, .color-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  
  .modal-content {
    margin: 20px;
    padding: 28px;
  }
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<!-- Floating particles -->
<script>
for(let i = 0; i < 35; i++) {
  const p = document.createElement("div");
  p.className = "particle";
  p.style.left = Math.random() * 100 + "%";
  p.style.animationDuration = (12 + Math.random() * 12) + "s";
  p.style.animationDelay = Math.random() * 12 + "s";
  document.body.appendChild(p);
}
</script>

<div class="card">
  <h3>Family Gathering Invitation!!</h3>

  <div class="envelope" id="env">
    <div class="flap"></div>
  </div>
  <div class="tap">Tap to Open Invitation</div>
</div>

<!-- Greeting Modal -->
<div class="modal" id="greeting">
  <div class="modal-content">
    <h4>Warm Invitationüíï</h4>
    <p>
      Assalamu Alaikum!!
      <br>
      With heartfelt joy and divine barakah, we invite you to our cherished family gathering blessed by Allah's mercy. May this occasion strengthen our bonds, fill hearts with love, and draw us closer in faith. Your presence is our greatest honor. Prepare in your beautiful color code and remember us in your prayers.
      <br>
      May Allah unite us with His blessing
    </p>
    <button class="btn" onclick="openFamilySelect()">Dress Code</button>
  </div>
</div>

<!-- Family Select Modal -->
<div class="modal" id="family">
  <div class="modal-content">
    <h4>Select Your Family</h4>
    <div class="family-grid" id="familyGrid"></div>
  </div>
</div>

<!-- Color Selection Modal -->
<div class="modal" id="colorSelect">
  <div class="modal-content">
    <h4 id="familyTitle">Select Color</h4>
    <div class="color-grid" id="colorGrid"></div>
  </div>
</div>

<!-- Color Reveal Modal - NEW LAYOUT -->
<div class="modal" id="colorReveal">
  <div class="modal-content">
    <div class="color-reveal-container">
      <h3 class="color-heading" id="colorHeading"></h3>
      <div class="color-display" id="colorDisplay"></div>
    </div>
    <p>
      Date, time & venue will be revealed soon... Till then, prepare with your clothesüòÅ
    </p>
    <button class="btn full" onclick="shareColor()">Share Your Color Code</button>
  </div>
</div>

<script>
const families = [
  { name: "Humera (Bride)", color: "#FFFDD0", code: "CREAM", fullName: "Humera(Bride)" },
  { name: "Zahida Narpali & Mahek Bhatti Family", color: "#A67C52", code: "BROWN", fullName: "Zahida Narpali & Mahek Bhatti" },
  { name: "Rafiq Parmar Family", color: "#6fa8dc", code: "BLUE", fullName: "Rafiq Parmar" },
  { name: "Abdul Parmar Family", color: "#FFB347", code: "ORANGE", fullName: "Abdul Parmar" },
  { name: "Rasul Parmar Family", color: "#FFAAB8", code: "PINK", fullName: "Rasul Parmar" },
  { name: "Hussain Habsi Family", color: "#75B06F", code: "GREEN", fullName: "Hussain Habsi" },
  { name: "Femida Narpali & Misbah Belim Family", color: "#333333", code: "BLACK", fullName: "Femida Narpali & Misbah Belim" },
  { name: "Naeem Divaliya Family", color: "#6E026F", code: "PURPLE", fullName: "Naeem Divaliya" }
];

const env = document.getElementById("env");
const greeting = document.getElementById("greeting");
const familyModal = document.getElementById("family");
const colorSelectModal = document.getElementById("colorSelect");
const colorReveal = document.getElementById("colorReveal");
const familyGrid = document.getElementById("familyGrid");
const colorGrid = document.getElementById("colorGrid");
let selectedFamily = null;

// Envelope open
env.onclick = () => {
  env.classList.add("open");
  setTimeout(() => greeting.style.display = "flex", 900);
};

function openFamilySelect() {
  greeting.style.display = "none";
  populateFamilies();
  familyModal.style.display = "flex";
}

function populateFamilies() {
  familyGrid.innerHTML = "";
  families.forEach((family, index) => {
    const card = document.createElement("div");
    card.className = "family-card";
    card.innerHTML = family.name;
    card.onclick = () => selectFamily(index);
    familyGrid.appendChild(card);
  });
}

function selectFamily(index) {
  document.querySelectorAll('.family-card').forEach(c => c.classList.remove('selected'));
  const card = document.querySelectorAll('.family-card')[index];
  card.classList.add('selected');
  selectedFamily = families[index];
  
  setTimeout(() => {
    familyModal.style.display = "none";
    showColorSelection();
  }, 400);
}

function showColorSelection() {
  document.getElementById("familyTitle").textContent = `${selectedFamily.fullName} Family`;
  colorGrid.innerHTML = `
    <div class="color-option" data-color="${selectedFamily.color}" data-code="${selectedFamily.code}" onclick="selectColor(this)">?</div>
    <div class="color-option" data-color="${selectedFamily.color}" data-code="${selectedFamily.code}" onclick="selectColor(this)">?</div>
    <div class="color-option" data-color="${selectedFamily.color}" data-code="${selectedFamily.code}" onclick="selectColor(this)">?</div>
  `;
  colorSelectModal.style.display = "flex";
}

function selectColor(element) {
  document.querySelectorAll('.color-option').forEach(c => c.classList.remove('selected'));
  element.classList.add('selected');
  
  const color = element.dataset.color;
  const code = element.dataset.code;
  
  setTimeout(() => {
    colorSelectModal.style.display = "none";
    revealColor(color, code);
  }, 500);
}

function revealColor(color, code) {
  const colorDisplay = document.getElementById("colorDisplay");
  const colorHeading = document.getElementById("colorHeading");
  
  // Set heading text
  colorHeading.textContent = `${selectedFamily.fullName} Family... Your Color Code Is "${code}"`;
  
  // Set color display
  colorDisplay.style.background = color;
  if (code === "CREAM") {
    colorDisplay.classList.add('cream');
  } else {
    colorDisplay.classList.add('revealed');
  }
  
  colorReveal.style.display = "flex";
  launchFireworks(color);
}

function shareColor() {
  const msg = `Assalamu Alaikum... We Got Our Color Code "${selectedFamily.code}"`;
  const whatsappUrl = `https://wa.me/919082898122?text=${encodeURIComponent(msg)}`;
  window.open(whatsappUrl, "_blank");
}

function launchFireworks(color) {
  const canvas = document.getElementById("fireworks");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let particles = [];
  for(let i = 0; i < 180; i++) {
    particles.push({
      x: canvas.width / 2,
      y: canvas.height / 2,
      vx: (Math.random() - 0.5) * 15,
      vy: (Math.random() - 0.5) * 15,
      life: 120,
      color: color
    });
  }

  function anim() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.1;
      p.life--;
      p.vx *= 0.97;
      p.vy *= 0.97;
      
      ctx.save();
      ctx.globalAlpha = p.life / 120;
      ctx.fillStyle = p.color;
      ctx.shadowColor = p.color;
      ctx.shadowBlur = 15;
      ctx.fillRect(p.x, p.y, 5, 5);
      ctx.restore();
    });
    
    particles = particles.filter(p => p.life > 0);
    if(particles.length) requestAnimationFrame(anim);
  }
  anim();
}

window.addEventListener('resize', () => {
  const canvas = document.getElementById("fireworks");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>
